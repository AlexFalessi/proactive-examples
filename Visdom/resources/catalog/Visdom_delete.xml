<?xml version="1.0" encoding="UTF-8"?>
<job
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="urn:proactive:jobdescriptor:3.8"
     xsi:schemaLocation="urn:proactive:jobdescriptor:3.8 http://www.activeeon.com/public_content/schemas/proactive/jobdescriptor/3.8/schedulerjob.xsd"
    name="Visdom_delete" projectName="Cloud Automation - Visdom"
    priority="normal"
    onTaskError="cancelJob"
     maxNumberOfExecution="2">
  <variables>
    <variable name="instance_name" value="visdom-server-1" />
  </variables>
  <description>
    <![CDATA[ Stop the Visdom server which is running in a Docker container. ]]>
  </description>
    <genericInformation>
    <info name="pca.service.description" value="A flexible tool for creating, organizing, and sharing visualizations of live, rich data"/>
    <info name="pca.service.type" value="platform"/>
    <info name="bucketName" value="Cloud-automation"/>
    <info name="pca.action.icon" value="https://avatars1.githubusercontent.com/u/16943930?s=400&amp;v=4"/>
    <info name="pca.service.name" value="Visdom"/>
    <info name="pca.action.name" value="delete"/>
    <info name="Documentation" value="https://www.activeeon.com/resources/activeeon-machine-learning-visualization-with-visdom.pdf"/>
    <info name="pca.service.model" value="http://models.activeeon.com/pca/visdom"/>
    <info name="pca.action.type" value="delete"/>
    <info name="pca.action.origin_state" value="RUNNING"/>
    <info name="pca.action.description" value="Stop Visdom Server"/>
    <info name="group" value="public-objects"/>
  </genericInformation>
  <taskFlow>
    <task name="stop_visdom">
      <description>
        <![CDATA[ Start the Visdom server in a Docker container as a service (docker start). ]]>
      </description>
      <scriptExecutable>
        <script>
          <code language="bash">
            <![CDATA[
docker rm -f $variables_instance_name
]]>
          </code>
        </script>
      </scriptExecutable>
    </task>
  </taskFlow>
</job>